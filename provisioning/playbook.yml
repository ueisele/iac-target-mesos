---
- name: Java Setup
  hosts: all
  become: yes
  roles:
    - role: geerlingguy.java
      java_packages: 
        - openjdk-8-jdk

- name: Zookeeper Cluster Setup
  hosts: zookeeper
  become: yes
  roles:
    - role: AnsibleShipyard.ansible-zookeeper
      zookeeper_hosts: "{{ groups['zookeeper'] }}"

- name: Mesos Master Cluster Setup
  hosts: mesos-master
  become: yes
  roles:
    - role: mesos-master
      zookeeper_hosts: "{{ groups['zookeeper'] }}"   
      config_mesos_master:
        quorum: "{{ ((groups['zookeeper'] | length) / 2) | round | int }}"
